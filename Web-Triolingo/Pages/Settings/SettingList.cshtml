@page
@model Web_Triolingo.Pages.Settings.SettingListModel

<h1>Setting Managerment</h1>

<div class="">
    <button type="button" class="btn btn-secondary">Xóa</button>
    <a class="btn btn-primary" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
        Thêm mới
    </a>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Thêm mới</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                <form>
                    <div class="form-group">
                        <label for="email">Tên</label>
                        <input type="email" class="form-control" id="email" placeholder="nhập tên" aria-describedby="emailHelp">
                    </div>
                    <div class="form-group">
                        <label for="password">Giá trị</label>
                        <input type="password" class="form-control" id="password" placeholder="nhập giá trị">
                    </div>
                    <div class="form-group">
                        <label for="password">Ghi chú</label>
                        <input type="password" class="form-control" id="password" placeholder="nhập ghi chú">
                    </div>
                    <button type="submit" class="btn btn-primary">Thêm</button>
                </form>
            </div>
            <div class="dropdown mt-3">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
                    Dropdown button
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
            </div>
        </div>
    </div>
    <a class="btn btn-primary" data-bs-toggle="offcanvas" href="#offcanvasExample1" role="button" aria-controls="offcanvasExample1">
        Edit setting
    </a>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample1" aria-labelledby="offcanvasExampleLabel1">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                cai nay edit
            </div>
            <div class="dropdown mt-3">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
                    Dropdown button
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<table class="table">
    <thead>
        <tr>
            <th>Tên</th>
            <th>Trạng thái</th>
            <th>Giá trị</th>
            <th>Ghi chú</th>
            <th>Sửa trạng thái</th>
        </tr>
    </thead>
    <tbody>
        @{
            int count = 1;
        }
        @{
            foreach (var item in Model.ListAllSettings)
            {

                <tr class="accoordion">
                    <td>
                        <form method="get" asp-page-handler="GetChild">
                            <input type="hidden" name="Id" value="@item.Id" />
                            <input class="btn btn-primary" type="submit" value="@count" />
                        </form>
                    </td>
                    <td>@item.Name</td>
                    <td>
                        @{
                            if (item.Status == 1)
                            {
                                <span class="badge bg-success">Active</span>
                            }
                            else
                            {
                                <span class="badge bg-danger">Deactive</span>
                            }
                        }
                    </td>
                    <td>@item.Value</td>
                    <td>@item.Note</td>
                    <td>
                        @{
                            if (item.Status == 1)
                            {
                                <form method="post">
                                    <input type="hidden" name="Id" value="@item.Id" />
                                    <input class="btn bg-danger" type="submit" value="Deactive" />
                                </form>
                            }
                            else
                            {
                                <form method="post">
                                    <input type="hidden" name="Id" value="@item.Id" />
                                    <input class="btn bg-success" type="submit" value="Active" />
                                </form>
                            }
                        }
                    </td>
                </tr>
                if (Model.AllSettingsByParent != null && Model.AllSettingsByParent.Any())
                {
                    <tr class="panel">

                        <td>
                            <table>
                                @{
                                    foreach (var item2 in Model.AllSettingsByParent)
                                    {
                                        int count2 = 1;
                                        <tr>
                                            <td>@item2.Name</td>
                                            <td>@item2.Name</td>
                                            <td>
                                                @{
                                                    if (item2.Status == 1)
                                                    {
                                                        <span class="badge bg-success">Active</span>
                                                    }
                                                    else
                                                    {
                                                        <span class="badge bg-danger">Deactive</span>
                                                    }
                                                }
                                            </td>
                                            <td>@item2.Value</td>
                                            <td>@item2.Note</td>
                                            <td>
                                                @{
                                                    if (item2.Status == 1)
                                                    {
                                                        <form method="post">
                                                            <input type="hidden" name="Id" value="@item2.Id" />
                                                            <input class="btn bg-danger" type="submit" value="Deactive" />
                                                        </form>
                                                    }
                                                    else
                                                    {
                                                        <form method="post">
                                                            <input type="hidden" name="Id" value="@item2.Id" />
                                                            <input class="btn bg-success" type="submit" value="Active" />
                                                        </form>
                                                    }
                                                }
                                            </td>
                                        </tr>
                                        count++;
                                    }
                                }
                            </table>
                        </td>


                    </tr>
                }
            }
        }
    </tbody>
</table>
@section Head{
    <link rel="stylesheet" href="~/css/Settings/SettingStyle.css" />
}
@section Scripts{
    <script src="~/js/Settings/Settings.js"></script>
}